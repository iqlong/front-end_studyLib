<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="../js/babel.min.js"></script>
    <script src="../js/axios.js"></script>
    <title>图片的上传</title>
</head>
<body>
    <input type="file" name="image" size="50">
    <br/>
    <br/>
    <button>上传文件/图片</button>
    <!--<h3>文件上传：</h3>-->
    <!--选择一个文件上传: <br />-->
    <!--<form action="http://localhost/uploadFile" method="post" enctype="multipart/form-data">-->
    <!--    <input type="file" name="image" size="50" />-->
    <!--    <br/>-->
    <!--    <br/>-->
    <!--    <input type="submit" value="上传文件" />-->
    <!--</form>-->

    <script>
        let fileDom = document.querySelector('input');
        document.querySelector('button').addEventListener('click', () => {
            const uploadFile = fileDom.files[0];
            console.log(uploadFile);
            console.log('g')

            // 将uploadFile上传到服务器上
            let form = new FormData().append('image', uploadFile);
            axios.post('http://localhost:80/uploadFile', form, {
                headers: {
                    "Content-Type": "multipart/form-data"
                }
            }).then( (res) => {
                console.log(res);
            });

            // axios.post("http://localhost/test").then( (res) => {
            //     console.log(res);
            // })

            // let xhr = new XMLHttpRequest();
            // xhr.open('get', 'http://localhost/test',false);
            // xhr.send(null);
            // console.log(xhr.responseText)
        })
    </script>
</body>
</html>
